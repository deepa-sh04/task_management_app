{"ast":null,"code":"import _objectSpread from\"C:/Users/deepa/tax-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./EditModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const EditModal=_ref=>{let{isOpen,onClose,onSave,initialData,countries,loading=false}=_ref;const[formData,setFormData]=useState(initialData);const[saving,setSaving]=useState(false);const[validationError,setValidationError]=useState(null);useEffect(()=>{setFormData(initialData);setValidationError(null);},[initialData,isOpen]);const handleSave=async()=>{setValidationError(null);if(!formData.name.trim()){setValidationError('Name is required.');return;}setSaving(true);const success=await onSave(formData);setSaving(false);if(success){onClose();}else{setValidationError('Failed to save changes. Please try again.');}};const handleClose=()=>{if(!saving){onClose();}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Customer\"}),validationError&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:validationError}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",type:\"text\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),disabled:saving,placeholder:\"Enter name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",children:\"Country\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"country\",value:formData.country,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{country:e.target.value})),disabled:saving,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Country\"}),countries.map(country=>/*#__PURE__*/_jsx(\"option\",{value:country.name,children:country.name},country.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClose,disabled:saving,className:\"cancel-btn\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSave,disabled:saving,className:\"save-btn\",children:saving?'Saving...':'Save'})]})]})});};","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","EditModal","_ref","isOpen","onClose","onSave","initialData","countries","loading","formData","setFormData","saving","setSaving","validationError","setValidationError","handleSave","name","trim","success","handleClose","className","onClick","children","e","stopPropagation","htmlFor","id","type","value","onChange","_objectSpread","target","disabled","placeholder","country","map"],"sources":["C:/Users/deepa/tax-management-app/src/components/EditModal/EditModal.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Country, EditTaxData } from '../../types/types';\r\nimport './EditModal.css';\r\n\r\ninterface EditModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSave: (data: EditTaxData) => Promise<boolean>;\r\n  initialData: EditTaxData;\r\n  countries: Country[];\r\n  loading?: boolean;\r\n}\r\n\r\nexport const EditModal: React.FC<EditModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSave,\r\n  initialData,\r\n  countries,\r\n  loading = false,\r\n}) => {\r\n  const [formData, setFormData] = useState<EditTaxData>(initialData);\r\n  const [saving, setSaving] = useState(false);\r\n  const [validationError, setValidationError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    setFormData(initialData);\r\n    setValidationError(null); \r\n  }, [initialData, isOpen]);\r\n\r\n  const handleSave = async () => {\r\n    setValidationError(null); \r\n    if (!formData.name.trim()) {\r\n      setValidationError('Name is required.');\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    const success = await onSave(formData);\r\n    setSaving(false);\r\n    \r\n    if (success) {\r\n      onClose();\r\n    } else {\r\n     \r\n      setValidationError('Failed to save changes. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!saving) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <h2>Edit Customer</h2>\r\n        \r\n        \r\n        {validationError && (\r\n          <div className=\"error-message\">{validationError}</div>\r\n        )}\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Name *</label>\r\n          <input\r\n            id=\"name\"\r\n            type=\"text\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            disabled={saving}\r\n            placeholder=\"Enter name\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"country\">Country</label>\r\n          <select\r\n            id=\"country\"\r\n            value={formData.country}\r\n            onChange={(e) => setFormData({ ...formData, country: e.target.value })}\r\n            disabled={saving}\r\n          >\r\n            <option value=\"\">Select Country</option>\r\n            {countries.map((country) => (\r\n              <option key={country.id} value={country.name}>\r\n                {country.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"modal-actions\">\r\n          <button \r\n            type=\"button\" \r\n            onClick={handleClose}\r\n            disabled={saving}\r\n            className=\"cancel-btn\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button \r\n            type=\"button\" \r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"save-btn\"\r\n          >\r\n            {saving ? 'Saving...' : 'Save'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}