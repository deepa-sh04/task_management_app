{"ast":null,"code":"import React,{useMemo,useState,useRef,useEffect}from\"react\";import{useReactTable,getCoreRowModel,getFilteredRowModel,getSortedRowModel,flexRender}from\"@tanstack/react-table\";import{EditModal}from\"../EditModal/EditModal\";import\"./TaxTable.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const TaxTable=_ref=>{let{taxes,countries,onUpdateTax,loading=false}=_ref;const[editingTax,setEditingTax]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const[columnFilters,setColumnFilters]=useState([]);const[showCountryFilter,setShowCountryFilter]=useState(false);const[selectedCountry,setSelectedCountry]=useState(\"\");const[searchTerm,setSearchTerm]=useState(\"\");const filterRef=useRef(null);// Close filter when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(filterRef.current&&!filterRef.current.contains(event.target)){setShowCountryFilter(false);}};if(showCountryFilter){document.addEventListener(\"mousedown\",handleClickOutside);}return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[showCountryFilter]);const handleEdit=tax=>{setEditingTax(tax);setIsModalOpen(true);};const handleCloseModal=()=>{setEditingTax(null);setIsModalOpen(false);};const handleSave=async data=>{if(!editingTax)return false;return await onUpdateTax(editingTax.id,data);};const getEditInitialData=()=>{if(!editingTax)return{name:\"\",country:\"\"};return{name:editingTax.name||\"\",country:editingTax.country||\"\"};};const toggleCountryFilter=()=>{setShowCountryFilter(prev=>!prev);};const handleCountrySelect=country=>{setSelectedCountry(country);};const applyCountryFilter=()=>{var _table$getColumn;(_table$getColumn=table.getColumn(\"country\"))===null||_table$getColumn===void 0?void 0:_table$getColumn.setFilterValue(selectedCountry);setShowCountryFilter(false);};const clearCountryFilter=()=>{var _table$getColumn2;setSelectedCountry(\"\");(_table$getColumn2=table.getColumn(\"country\"))===null||_table$getColumn2===void 0?void 0:_table$getColumn2.setFilterValue(\"\");setShowCountryFilter(false);};const uniqueCountries=Array.from(new Set(taxes.map(t=>t.country))).sort();const filteredCountries=uniqueCountries.filter(country=>country.toLowerCase().includes(searchTerm.toLowerCase()));const columns=useMemo(()=>[{header:\"Entity\",accessorKey:\"name\",cell:info=>/*#__PURE__*/_jsx(\"span\",{className:\"entity-cell\",children:info.getValue()})},{header:\"Gender\",accessorKey:\"gender\",cell:info=>{const gender=info.getValue();const normalizedGender=(gender||\"\").trim().toLowerCase();let genderClass=\"gender-other\";if(normalizedGender===\"male\"){genderClass=\"gender-male\";}else if(normalizedGender===\"female\"){genderClass=\"gender-female\";}const displayGender=normalizedGender.charAt(0).toUpperCase()+normalizedGender.slice(1);return/*#__PURE__*/_jsx(\"span\",{className:genderClass,children:displayGender});}},{header:\"Request date\",accessorKey:\"createdAt\",cell:info=>{const dateString=info.getValue();try{return new Date(dateString).toLocaleDateString(\"en-US\",{month:\"short\",day:\"numeric\",year:\"numeric\"});}catch(_unused){return\"Invalid Date\";}}},{header:\"Country\",accessorKey:\"country\",cell:info=>/*#__PURE__*/_jsx(\"span\",{className:\"country-cell\",children:info.getValue()})},{header:()=>/*#__PURE__*/_jsx(\"div\",{className:\"filter-header-column\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:toggleCountryFilter,className:\"filter-header-btn \".concat(selectedCountry?'active':''),title:\"Filter by country\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M22 3H2l8 9.46V19l4 2v-8.54L22 3z\"})}),selectedCountry&&/*#__PURE__*/_jsx(\"span\",{className:\"filter-indicator\"})]})}),accessorKey:\"id\",cell:info=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(info.row.original),className:\"edit-btn\",title:\"Edit\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"})]})})}],[selectedCountry]);const table=useReactTable({data:taxes,columns,state:{columnFilters},onColumnFiltersChange:setColumnFilters,getCoreRowModel:getCoreRowModel(),getFilteredRowModel:getFilteredRowModel(),getSortedRowModel:getSortedRowModel()});if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"table-loading\",children:\"Loading taxes...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tax-table-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-main-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Tax Records\"})}),showCountryFilter&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowCountryFilter(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"country-filter-modal\",onClick:e=>e.stopPropagation(),ref:filterRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filter by Country\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCountryFilter(false),className:\"close-modal-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-controls\",children:/*#__PURE__*/_jsx(\"div\",{className:\"search-section\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search countries...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"countries-list\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"country-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"country\",value:\"\",checked:selectedCountry===\"\",onChange:()=>handleCountrySelect(\"\")}),/*#__PURE__*/_jsx(\"span\",{className:\"radiomark\"}),/*#__PURE__*/_jsx(\"span\",{className:\"country-name\",children:\"All Countries\"})]}),filteredCountries.map(country=>/*#__PURE__*/_jsxs(\"label\",{className:\"country-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"country\",value:country,checked:selectedCountry===country,onChange:()=>handleCountrySelect(country)}),/*#__PURE__*/_jsx(\"span\",{className:\"radiomark\"}),/*#__PURE__*/_jsx(\"span\",{className:\"country-name\",children:country})]},country)),filteredCountries.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-results\",children:\"No countries found\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearCountryFilter,className:\"cancel-btn\",children:\"Clear\"}),/*#__PURE__*/_jsx(\"button\",{onClick:applyCountryFilter,className:\"apply-btn\",children:\"Apply\"})]})]})}),/*#__PURE__*/_jsxs(\"table\",{className:\"tax-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:table.getHeaderGroups().map(hg=>/*#__PURE__*/_jsx(\"tr\",{children:hg.headers.map(header=>/*#__PURE__*/_jsx(\"th\",{children:flexRender(header.column.columnDef.header,header.getContext())},header.id))},hg.id))}),/*#__PURE__*/_jsx(\"tbody\",{children:table.getRowModel().rows.map(row=>/*#__PURE__*/_jsx(\"tr\",{children:row.getVisibleCells().map(cell=>/*#__PURE__*/_jsx(\"td\",{children:flexRender(cell.column.columnDef.cell,cell.getContext())},cell.id))},row.id))})]}),table.getRowModel().rows.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[\"No records found\",selectedCountry&&/*#__PURE__*/_jsxs(\"span\",{children:[\" for \",selectedCountry]})]}),isModalOpen&&/*#__PURE__*/_jsx(EditModal,{isOpen:isModalOpen,onClose:handleCloseModal,onSave:handleSave,initialData:getEditInitialData(),countries:countries})]});};","map":{"version":3,"names":["React","useMemo","useState","useRef","useEffect","useReactTable","getCoreRowModel","getFilteredRowModel","getSortedRowModel","flexRender","EditModal","jsx","_jsx","jsxs","_jsxs","TaxTable","_ref","taxes","countries","onUpdateTax","loading","editingTax","setEditingTax","isModalOpen","setIsModalOpen","columnFilters","setColumnFilters","showCountryFilter","setShowCountryFilter","selectedCountry","setSelectedCountry","searchTerm","setSearchTerm","filterRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleEdit","tax","handleCloseModal","handleSave","data","id","getEditInitialData","name","country","toggleCountryFilter","prev","handleCountrySelect","applyCountryFilter","_table$getColumn","table","getColumn","setFilterValue","clearCountryFilter","_table$getColumn2","uniqueCountries","Array","from","Set","map","t","sort","filteredCountries","filter","toLowerCase","includes","columns","header","accessorKey","cell","info","className","children","getValue","gender","normalizedGender","trim","genderClass","displayGender","charAt","toUpperCase","slice","dateString","Date","toLocaleDateString","month","day","year","_unused","onClick","concat","title","width","height","viewBox","fill","stroke","d","row","original","state","onColumnFiltersChange","e","stopPropagation","ref","type","placeholder","value","onChange","checked","length","getHeaderGroups","hg","headers","column","columnDef","getContext","getRowModel","rows","getVisibleCells","isOpen","onClose","onSave","initialData"],"sources":["C:/Users/deepa/tax-management-app/src/components/TaxTable/TaxTable.tsx"],"sourcesContent":["import React, { useMemo, useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  useReactTable,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getSortedRowModel,\r\n  flexRender,\r\n  ColumnDef,\r\n  ColumnFiltersState,\r\n} from \"@tanstack/react-table\";\r\nimport { Tax, Country, EditTaxData } from \"../../types/types\";\r\nimport { EditModal } from \"../EditModal/EditModal\";\r\nimport \"./TaxTable.css\";\r\n\r\ninterface TaxTableProps {\r\n  taxes: Tax[];\r\n  countries: Country[];\r\n  onUpdateTax: (id: string, data: EditTaxData) => Promise<boolean>;\r\n  loading?: boolean;\r\n}\r\n\r\nexport const TaxTable: React.FC<TaxTableProps> = ({\r\n  taxes,\r\n  countries,\r\n  onUpdateTax,\r\n  loading = false,\r\n}) => {\r\n  const [editingTax, setEditingTax] = useState<Tax | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([]);\r\n  const [showCountryFilter, setShowCountryFilter] = useState(false);\r\n  const [selectedCountry, setSelectedCountry] = useState<string>(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const filterRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close filter when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (filterRef.current && !filterRef.current.contains(event.target as Node)) {\r\n        setShowCountryFilter(false);\r\n      }\r\n    };\r\n\r\n    if (showCountryFilter) {\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [showCountryFilter]);\r\n\r\n  const handleEdit = (tax: Tax) => {\r\n    setEditingTax(tax);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setEditingTax(null);\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  const handleSave = async (data: EditTaxData): Promise<boolean> => {\r\n    if (!editingTax) return false;\r\n    return await onUpdateTax(editingTax.id, data);\r\n  };\r\n\r\n  const getEditInitialData = (): EditTaxData => {\r\n    if (!editingTax) return { name: \"\", country: \"\" };\r\n    return {\r\n      name: editingTax.name || \"\",\r\n      country: editingTax.country || \"\",\r\n    };\r\n  };\r\n\r\n  const toggleCountryFilter = () => {\r\n    setShowCountryFilter((prev) => !prev);\r\n  };\r\n\r\n  const handleCountrySelect = (country: string) => {\r\n    setSelectedCountry(country);\r\n  };\r\n\r\n  const applyCountryFilter = () => {\r\n    table.getColumn(\"country\")?.setFilterValue(selectedCountry);\r\n    setShowCountryFilter(false);\r\n  };\r\n\r\n  const clearCountryFilter = () => {\r\n    setSelectedCountry(\"\");\r\n    table.getColumn(\"country\")?.setFilterValue(\"\");\r\n    setShowCountryFilter(false);\r\n  };\r\n\r\n  const uniqueCountries = Array.from(new Set(taxes.map(t => t.country))).sort();\r\n  \r\n  const filteredCountries = uniqueCountries.filter(country =>\r\n    country.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const columns = useMemo<ColumnDef<Tax>[]>(\r\n    () => [\r\n      {\r\n        header: \"Entity\",\r\n        accessorKey: \"name\",\r\n        cell: (info) => (\r\n          <span className=\"entity-cell\">\r\n            {info.getValue() as string}\r\n          </span>\r\n        ),\r\n      },\r\n      {\r\n        header: \"Gender\",\r\n        accessorKey: \"gender\",\r\n        cell: (info) => {\r\n          const gender = info.getValue() as string;\r\n          const normalizedGender = (gender || \"\").trim().toLowerCase();\r\n\r\n          let genderClass = \"gender-other\";\r\n          if (normalizedGender === \"male\") {\r\n            genderClass = \"gender-male\";\r\n          } else if (normalizedGender === \"female\") {\r\n            genderClass = \"gender-female\";\r\n          }\r\n\r\n          const displayGender =\r\n            normalizedGender.charAt(0).toUpperCase() + normalizedGender.slice(1);\r\n\r\n          return <span className={genderClass}>{displayGender}</span>;\r\n        },\r\n      },\r\n      {\r\n        header: \"Request date\",\r\n        accessorKey: \"createdAt\",\r\n        cell: (info) => {\r\n          const dateString = info.getValue() as string;\r\n          try {\r\n            return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n              month: \"short\",\r\n              day: \"numeric\",\r\n              year: \"numeric\",\r\n            });\r\n          } catch {\r\n            return \"Invalid Date\";\r\n          }\r\n        },\r\n      },\r\n      {\r\n        header: \"Country\",\r\n        accessorKey: \"country\",\r\n        cell: (info) => (\r\n          <span className=\"country-cell\">\r\n            {info.getValue() as string}\r\n          </span>\r\n        ),\r\n      },\r\n      {\r\n        header: () => (\r\n          <div className=\"filter-header-column\">\r\n            <button\r\n              onClick={toggleCountryFilter}\r\n              className={`filter-header-btn ${selectedCountry ? 'active' : ''}`}\r\n              title=\"Filter by country\"\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                <path d=\"M22 3H2l8 9.46V19l4 2v-8.54L22 3z\"/>\r\n              </svg>\r\n              {selectedCountry && <span className=\"filter-indicator\"></span>}\r\n            </button>\r\n          </div>\r\n        ),\r\n        accessorKey: \"id\",\r\n        cell: (info) => (\r\n          <button\r\n            onClick={() => handleEdit(info.row.original)}\r\n            className=\"edit-btn\"\r\n            title=\"Edit\"\r\n          >\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"/>\r\n              <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"/>\r\n            </svg>\r\n          </button>\r\n        ),\r\n      },\r\n    ],\r\n    [selectedCountry]\r\n  );\r\n\r\n  const table = useReactTable({\r\n    data: taxes,\r\n    columns,\r\n    state: {\r\n      columnFilters,\r\n    },\r\n    onColumnFiltersChange: setColumnFilters,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n  });\r\n\r\n  if (loading) return <div className=\"table-loading\">Loading taxes...</div>;\r\n\r\n  return (\r\n    <div className=\"tax-table-container\">\r\n      {/* Header - Only title, no filter */}\r\n      <div className=\"table-main-header\">\r\n        <h3>Tax Records</h3>\r\n      </div>\r\n\r\n      {/* Country Filter Dropdown */}\r\n      {showCountryFilter && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowCountryFilter(false)}>\r\n          <div className=\"country-filter-modal\" onClick={(e) => e.stopPropagation()} ref={filterRef}>\r\n            <div className=\"modal-header\">\r\n              <h3>Filter by Country</h3>\r\n              <button \r\n                onClick={() => setShowCountryFilter(false)}\r\n                className=\"close-modal-btn\"\r\n              >\r\n                Ã—\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"filter-controls\">\r\n              <div className=\"search-section\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search countries...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"search-input\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"countries-list\">\r\n              <label className=\"country-option\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"country\"\r\n                  value=\"\"\r\n                  checked={selectedCountry === \"\"}\r\n                  onChange={() => handleCountrySelect(\"\")}\r\n                />\r\n                <span className=\"radiomark\"></span>\r\n                <span className=\"country-name\">All Countries</span>\r\n              </label>\r\n\r\n              {filteredCountries.map((country) => (\r\n                <label key={country} className=\"country-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"country\"\r\n                    value={country}\r\n                    checked={selectedCountry === country}\r\n                    onChange={() => handleCountrySelect(country)}\r\n                  />\r\n                  <span className=\"radiomark\"></span>\r\n                  <span className=\"country-name\">{country}</span>\r\n                </label>\r\n              ))}\r\n              {filteredCountries.length === 0 && (\r\n                <div className=\"no-results\">No countries found</div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"modal-actions\">\r\n              <button onClick={clearCountryFilter} className=\"cancel-btn\">\r\n                Clear\r\n              </button>\r\n              <button onClick={applyCountryFilter} className=\"apply-btn\">\r\n                Apply\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Table */}\r\n      <table className=\"tax-table\">\r\n        <thead>\r\n          {table.getHeaderGroups().map((hg) => (\r\n            <tr key={hg.id}>\r\n              {hg.headers.map((header) => (\r\n                <th key={header.id}>\r\n                  {flexRender(header.column.columnDef.header, header.getContext())}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n\r\n        <tbody>\r\n          {table.getRowModel().rows.map((row) => (\r\n            <tr key={row.id}>\r\n              {row.getVisibleCells().map((cell) => (\r\n                <td key={cell.id}>\r\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {table.getRowModel().rows.length === 0 && !loading && (\r\n        <div className=\"no-data\">\r\n          No records found\r\n          {selectedCountry && (\r\n            <span> for {selectedCountry}</span>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {isModalOpen && (\r\n        <EditModal\r\n          isOpen={isModalOpen}\r\n          onClose={handleCloseModal}\r\n          onSave={handleSave}\r\n          initialData={getEditInitialData()}\r\n          countries={countries}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}